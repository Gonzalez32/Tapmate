<%- include('../partials/header') %> 
<%- include('../partials/nav') %>

<h1>User Profile</h1>

<div class="card" style="width: 36rem;">
  <div class="card-body">
    <h5 class="card-title">Name: <%= user.name %></h5>
    <p class="card-text">Alias: <%= user.alias %></p>
    <p class="card-text">Email: <%= user.email %></p>
    <p class="card-text">Bio: <%= user.bio %></p>
  </div>
</div>
        
<div class="card-body">
  <form id="userForm" action="/users/profile?_method=PUT" method="POST">
    <div class="form-row">
      <div class="col-md-4">
        <label for="userAlias">Alias:</label>
        <input type="text" id="userAlias" class="form-control" name="alias" value="<%= user.alias %>">
      </div>
    </div>
  <div class="form-row">
    <div class="col-md-12">
      <label for="avatarUrl">Avatar Image URL:</label>
      <input type="text" id="avatarUrl" class="form-control" name="avatar" value="<%= user.avatar %>">
    </div>
  </div>
    <div class="form-row">
      <div class="col-md-12">
        <label for="bio">Bio:</label>
        <textarea rows="3" id="bio" class="form-control" name="bio"><%= user.bio %></textarea>
      </div>
    </div>
    <button type="submit" class="btn btn-warning">Update</button>
  </form>
</div>

<div>
  <% user.friends.forEach((f) => { %>
    <a href="/users/<%= f._id %>"><img width="30" id="avatarPhoto" src="<%= f.avatar %>" alt=""><%= f.name %> <%= f.alias ? `(${f.alias})` : '' %></a><br><br>
  <% }) %>
</div>

<%- include('../partials/footer') %>